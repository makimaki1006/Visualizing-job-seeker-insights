<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Phase 1-14 å®Œå…¨ãƒ‡ãƒ¢ | Job Medley MAP</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
      background: #0f172a;
      color: #f1f5f9;
      padding: 20px;
    }
    .container { max-width: 1400px; margin: 0 auto; }
    h1 {
      font-size: 28px;
      margin-bottom: 20px;
      color: #38bdf8;
      border-bottom: 2px solid #1e293b;
      padding-bottom: 10px;
    }
    .tabs {
      display: grid;
      grid-template-columns: repeat(4, minmax(0, 1fr));
      gap: 8px;
      margin-bottom: 20px;
    }
    .tab {
      padding: 10px 16px;
      background: #1e293b;
      border: 1px solid #334155;
      border-radius: 6px;
      cursor: pointer;
      transition: all 0.2s;
      font-size: 13px;
      text-align: center;
    }
    .tab:hover { background: #334155; }
    .tab.active {
      background: #38bdf8;
      color: #0f172a;
      border-color: #38bdf8;
      font-weight: 600;
    }
    .panel { display: none; }
    .panel.active { display: block; }
    .kpis {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 16px;
      margin-bottom: 24px;
    }
    .kpi {
      background: #1e293b;
      padding: 20px;
      border-radius: 8px;
      border: 1px solid #334155;
    }
    .kpi .label {
      font-size: 12px;
      color: #94a3b8;
      margin-bottom: 8px;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }
    .kpi .value {
      font-size: 28px;
      font-weight: 700;
      color: #38bdf8;
    }
    .section {
      background: #1e293b;
      padding: 24px;
      border-radius: 8px;
      margin-bottom: 24px;
      border: 1px solid #334155;
    }
    .section h2 {
      font-size: 18px;
      margin-bottom: 16px;
      color: #f1f5f9;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      font-size: 14px;
    }
    th {
      background: #0f172a;
      padding: 12px;
      text-align: left;
      font-weight: 600;
      border-bottom: 2px solid #334155;
      color: #38bdf8;
    }
    td {
      padding: 12px;
      border-bottom: 1px solid #334155;
    }
    tr:hover { background: #334155; }
    .chart-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
      gap: 24px;
    }
    .chart-card {
      background: #0f172a;
      padding: 16px;
      border-radius: 8px;
      border: 1px solid #334155;
    }
    .chart-card header {
      font-size: 14px;
      font-weight: 600;
      margin-bottom: 16px;
      color: #94a3b8;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }
    .chart-body {
      position: relative;
      height: 350px;
    }
    .badge {
      display: inline-block;
      padding: 4px 12px;
      border-radius: 12px;
      font-size: 12px;
      font-weight: 600;
      background: rgba(56, 189, 248, 0.2);
      color: #38bdf8;
      border: 1px solid rgba(56, 189, 248, 0.5);
    }
    .info-box {
      background: rgba(56, 189, 248, 0.1);
      border: 1px solid rgba(56, 189, 248, 0.3);
      padding: 16px;
      border-radius: 8px;
      margin-bottom: 20px;
    }
    .info-box h3 {
      color: #38bdf8;
      font-size: 14px;
      margin-bottom: 8px;
    }
    .info-box p {
      font-size: 13px;
      color: #cbd5e1;
      line-height: 1.6;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>ğŸ—ºï¸ Phase 1-14 å®Œå…¨çµ±åˆãƒ‡ãƒ¢ <span class="badge">äº¬éƒ½åºœ äº¬éƒ½å¸‚ä¼è¦‹åŒº</span></h1>

    <div class="info-box">
      <h3>ğŸ“Œ ã“ã®ãƒ‡ãƒ¢ã«ã¤ã„ã¦</h3>
      <p>
        ã“ã®HTMLã¯ã€Phase 1-14ã®ã™ã¹ã¦ã®æ©Ÿèƒ½ãŒçµ±åˆã•ã‚ŒãŸMAPåˆ†æã‚·ã‚¹ãƒ†ãƒ ã®ãƒ‡ãƒ¢ã§ã™ã€‚
        11å€‹ã®ã‚¿ãƒ–ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ã€å„Phaseã®åˆ†æçµæœã‚’ç¢ºèªã§ãã¾ã™ã€‚
        <strong>Phase 12-14ï¼ˆéœ€çµ¦ã‚®ãƒ£ãƒƒãƒ—ã€å¸Œå°‘æ€§ã‚¹ã‚³ã‚¢ã€ç«¶åˆåˆ†æï¼‰ãŒæ–°è¦è¿½åŠ ã•ã‚Œã¾ã—ãŸã€‚</strong>
      </p>
    </div>

    <div class="tabs">
      <div class="tab active" data-tab="overview">ç·åˆæ¦‚è¦</div>
      <div class="tab" data-tab="supply">äººæä¾›çµ¦</div>
      <div class="tab" data-tab="career">ã‚­ãƒ£ãƒªã‚¢åˆ†æ</div>
      <div class="tab" data-tab="urgency">ç·Šæ€¥åº¦åˆ†æ</div>
      <div class="tab" data-tab="persona">ãƒšãƒ«ã‚½ãƒŠåˆ†æ</div>
      <div class="tab" data-tab="cross">ã‚¯ãƒ­ã‚¹åˆ†æ</div>
      <div class="tab" data-tab="flow">ãƒ•ãƒ­ãƒ¼åˆ†æ</div>
      <div class="tab" data-tab="gap">éœ€çµ¦ã‚®ãƒ£ãƒƒãƒ— ğŸ†•</div>
      <div class="tab" data-tab="rarity">å¸Œå°‘æ€§ã‚¹ã‚³ã‚¢ ğŸ†•</div>
      <div class="tab" data-tab="competition">ç«¶åˆåˆ†æ ğŸ†•</div>
      <div class="tab" data-tab="dashboard">ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰</div>
    </div>

    <!-- Phase 1: ç·åˆæ¦‚è¦ -->
    <div class="panel active" data-panel="overview">
      <div class="kpis">
        <div class="kpi">
          <div class="label">æ±‚è·è€…æ•°</div>
          <div class="value">1,748äºº</div>
        </div>
        <div class="kpi">
          <div class="label">å¹³å‡å¹´é½¢</div>
          <div class="value">48.7æ­³</div>
        </div>
        <div class="kpi">
          <div class="label">ç”·æ€§</div>
          <div class="value">628äºº</div>
        </div>
        <div class="kpi">
          <div class="label">å¥³æ€§</div>
          <div class="value">1,120äºº</div>
        </div>
      </div>
      <div class="section">
        <h2>å¹´é½¢å±¤ãƒ»æ€§åˆ¥åˆ†å¸ƒ</h2>
        <div class="chart-grid">
          <div class="chart-card">
            <header>å¹´é½¢å±¤åˆ†å¸ƒ</header>
            <div class="chart-body">
              <canvas id="overviewAgeChart"></canvas>
            </div>
          </div>
          <div class="chart-card">
            <header>æ€§åˆ¥åˆ†å¸ƒ</header>
            <div class="chart-body">
              <canvas id="overviewGenderChart"></canvas>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- äººæä¾›çµ¦ -->
    <div class="panel" data-panel="supply">
      <div class="kpis">
        <div class="kpi">
          <div class="label">å°±æ¥­ä¸­</div>
          <div class="value">1,121äºº</div>
        </div>
        <div class="kpi">
          <div class="label">é›¢è·ä¸­</div>
          <div class="value">550äºº</div>
        </div>
        <div class="kpi">
          <div class="label">åœ¨å­¦ä¸­</div>
          <div class="value">77äºº</div>
        </div>
        <div class="kpi">
          <div class="label">å›½å®¶è³‡æ ¼ä¿æœ‰è€…</div>
          <div class="value">47äºº</div>
        </div>
      </div>
      <div class="section">
        <h2>å°±æ¥­ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãƒ»è³‡æ ¼ä¿æœ‰çŠ¶æ³</h2>
        <div class="chart-grid">
          <div class="chart-card">
            <header>å°±æ¥­ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹</header>
            <div class="chart-body">
              <canvas id="supplyStatusChart"></canvas>
            </div>
          </div>
          <div class="chart-card">
            <header>è³‡æ ¼ä¿æœ‰æ•°</header>
            <div class="chart-body">
              <canvas id="supplyQualChart"></canvas>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- ã‚­ãƒ£ãƒªã‚¢åˆ†æ -->
    <div class="panel" data-panel="career">
      <div class="section">
        <h2>å­¦æ­´åˆ†å¸ƒ</h2>
        <p style="color: #94a3b8; margin-bottom: 16px;">Phase 8: å­¦æ­´ãƒ»ã‚­ãƒ£ãƒªã‚¢åˆ†æã®çµæœ</p>
        <div class="chart-card">
          <header>å­¦æ­´Ã—å¹´é½¢å±¤ã‚¯ãƒ­ã‚¹åˆ†æ</header>
          <div class="chart-body">
            <canvas id="careerEducationChart"></canvas>
          </div>
        </div>
      </div>
    </div>

    <!-- ç·Šæ€¥åº¦åˆ†æ -->
    <div class="panel" data-panel="urgency">
      <div class="kpis">
        <div class="kpi">
          <div class="label">å¹³å‡ç·Šæ€¥åº¦ã‚¹ã‚³ã‚¢</div>
          <div class="value">3.2</div>
        </div>
        <div class="kpi">
          <div class="label">HIGH</div>
          <div class="value">420äºº</div>
        </div>
        <div class="kpi">
          <div class="label">MEDIUM</div>
          <div class="value">850äºº</div>
        </div>
        <div class="kpi">
          <div class="label">LOW</div>
          <div class="value">478äºº</div>
        </div>
      </div>
      <div class="section">
        <h2>è»¢è·ç·Šæ€¥åº¦åˆ†æ</h2>
        <p style="color: #94a3b8; margin-bottom: 16px;">Phase 10: è»¢è·æ„æ¬²ãƒ»ç·Šæ€¥åº¦åˆ†æã®çµæœ</p>
        <div class="chart-card">
          <header>ç·Šæ€¥åº¦Ã—å¹´é½¢å±¤</header>
          <div class="chart-body">
            <canvas id="urgencyAgeChart"></canvas>
          </div>
        </div>
      </div>
    </div>

    <!-- ãƒšãƒ«ã‚½ãƒŠåˆ†æ -->
    <div class="panel" data-panel="persona">
      <div class="section">
        <h2>ãƒšãƒ«ã‚½ãƒŠTop 5</h2>
        <p style="color: #94a3b8; margin-bottom: 16px;">Phase 3: ãƒšãƒ«ã‚½ãƒŠåˆ†æã®çµæœ</p>
        <table>
          <thead>
            <tr>
              <th>ãƒšãƒ«ã‚½ãƒŠ</th>
              <th>äººæ•°</th>
              <th>å‰²åˆ</th>
            </tr>
          </thead>
          <tbody>
            <tr><td>50ä»£å¥³æ€§å°±æ¥­ä¸­</td><td>287äºº</td><td>16.4%</td></tr>
            <tr><td>40ä»£å¥³æ€§å°±æ¥­ä¸­</td><td>245äºº</td><td>14.0%</td></tr>
            <tr><td>60ä»£å¥³æ€§å°±æ¥­ä¸­</td><td>198äºº</td><td>11.3%</td></tr>
            <tr><td>50ä»£ç”·æ€§å°±æ¥­ä¸­</td><td>156äºº</td><td>8.9%</td></tr>
            <tr><td>30ä»£å¥³æ€§å°±æ¥­ä¸­</td><td>134äºº</td><td>7.7%</td></tr>
          </tbody>
        </table>
      </div>
    </div>

    <!-- ã‚¯ãƒ­ã‚¹åˆ†æ -->
    <div class="panel" data-panel="cross">
      <div class="section">
        <h2>å¹´é½¢å±¤Ã—å°±æ¥­ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ ã‚¯ãƒ­ã‚¹åˆ†æ</h2>
        <div class="chart-card">
          <header>å¹´é½¢å±¤åˆ¥å°±æ¥­çŠ¶æ³</header>
          <div class="chart-body">
            <canvas id="crossAgeEmploymentChart"></canvas>
          </div>
        </div>
      </div>
    </div>

    <!-- ãƒ•ãƒ­ãƒ¼åˆ†æ -->
    <div class="panel" data-panel="flow">
      <div class="kpis">
        <div class="kpi">
          <div class="label">æµå…¥å…ƒ</div>
          <div class="value">5åœ°åŸŸ</div>
        </div>
        <div class="kpi">
          <div class="label">æµå‡ºå…ˆ</div>
          <div class="value">8åœ°åŸŸ</div>
        </div>
        <div class="kpi">
          <div class="label">ç·æµå…¥</div>
          <div class="value">234äºº</div>
        </div>
        <div class="kpi">
          <div class="label">ç·æµå‡º</div>
          <div class="value">389äºº</div>
        </div>
      </div>
      <div class="section">
        <h2>ä¸»è¦ãªäººæç§»å‹•ãƒ•ãƒ­ãƒ¼</h2>
        <p style="color: #94a3b8; margin-bottom: 16px;">Phase 6: ãƒ•ãƒ­ãƒ¼åˆ†æã®çµæœ</p>
        <table>
          <thead>
            <tr>
              <th>ã‚¿ã‚¤ãƒ—</th>
              <th>åœ°åŸŸ</th>
              <th>äººæ•°</th>
            </tr>
          </thead>
          <tbody>
            <tr><td>æµå…¥</td><td>äº¬éƒ½å¸‚ä¸­äº¬åŒº</td><td>89äºº</td></tr>
            <tr><td>æµå…¥</td><td>äº¬éƒ½å¸‚å—åŒº</td><td>76äºº</td></tr>
            <tr><td>æµå‡º</td><td>å¤§é˜ªå¸‚åŒ—åŒº</td><td>124äºº</td></tr>
            <tr><td>æµå‡º</td><td>å¤§é˜ªå¸‚ä¸­å¤®åŒº</td><td>98äºº</td></tr>
          </tbody>
        </table>
      </div>
    </div>

    <!-- Phase 12: éœ€çµ¦ã‚®ãƒ£ãƒƒãƒ— -->
    <div class="panel" data-panel="gap">
      <div class="kpis">
        <div class="kpi">
          <div class="label">ç·åˆ†æåœ°åŸŸæ•°</div>
          <div class="value">1,528</div>
        </div>
        <div class="kpi">
          <div class="label">ç·éœ€è¦</div>
          <div class="value">50,000äºº</div>
        </div>
        <div class="kpi">
          <div class="label">ç·ä¾›çµ¦</div>
          <div class="value">15,000äºº</div>
        </div>
        <div class="kpi">
          <div class="label">å¹³å‡éœ€çµ¦æ¯”ç‡</div>
          <div class="value">45.2</div>
        </div>
      </div>
      <div class="section">
        <h2>éœ€çµ¦ã‚®ãƒ£ãƒƒãƒ—Top 10</h2>
        <table>
          <thead>
            <tr>
              <th>åœ°åŸŸ</th>
              <th>éœ€è¦</th>
              <th>ä¾›çµ¦</th>
              <th>ã‚®ãƒ£ãƒƒãƒ—</th>
              <th>éœ€çµ¦æ¯”ç‡</th>
            </tr>
          </thead>
          <tbody id="gapTable"></tbody>
        </table>
      </div>
      <div class="section">
        <h2>éœ€çµ¦ã‚®ãƒ£ãƒƒãƒ—å¯è¦–åŒ–</h2>
        <div class="chart-grid">
          <div class="chart-card">
            <header>Top 10 éœ€çµ¦ã‚®ãƒ£ãƒƒãƒ—</header>
            <div class="chart-body">
              <canvas id="gapChart"></canvas>
            </div>
          </div>
          <div class="chart-card">
            <header>Top 10 éœ€çµ¦æ¯”ç‡</header>
            <div class="chart-body">
              <canvas id="ratioChart"></canvas>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Phase 13: å¸Œå°‘æ€§ã‚¹ã‚³ã‚¢ -->
    <div class="panel" data-panel="rarity">
      <div class="kpis">
        <div class="kpi">
          <div class="label">ç·çµ„ã¿åˆã‚ã›æ•°</div>
          <div class="value">4,500</div>
        </div>
        <div class="kpi">
          <div class="label">è¶…å¸Œå°‘ï¼ˆSï¼‰</div>
          <div class="value">2,205ä»¶</div>
        </div>
        <div class="kpi">
          <div class="label">éå¸¸ã«å¸Œå°‘ï¼ˆAï¼‰</div>
          <div class="value">628ä»¶</div>
        </div>
        <div class="kpi">
          <div class="label">å¸Œå°‘ï¼ˆBï¼‰</div>
          <div class="value">515ä»¶</div>
        </div>
      </div>
      <div class="section">
        <h2>å¸Œå°‘æ€§ã‚¹ã‚³ã‚¢Top 15</h2>
        <table>
          <thead>
            <tr>
              <th>åœ°åŸŸ</th>
              <th>å¹´é½¢å±¤</th>
              <th>æ€§åˆ¥</th>
              <th>å›½å®¶è³‡æ ¼</th>
              <th>äººæ•°</th>
              <th>å¸Œå°‘æ€§ã‚¹ã‚³ã‚¢</th>
              <th>ãƒ©ãƒ³ã‚¯</th>
            </tr>
          </thead>
          <tbody id="rarityTable"></tbody>
        </table>
      </div>
      <div class="section">
        <h2>å¸Œå°‘æ€§åˆ†æå¯è¦–åŒ–</h2>
        <div class="chart-grid">
          <div class="chart-card">
            <header>å¸Œå°‘æ€§ãƒ©ãƒ³ã‚¯åˆ†å¸ƒ</header>
            <div class="chart-body">
              <canvas id="rarityDistChart"></canvas>
            </div>
          </div>
          <div class="chart-card">
            <header>Top 10 å¸Œå°‘æ€§ã‚¹ã‚³ã‚¢</header>
            <div class="chart-body">
              <canvas id="rarityScoreChart"></canvas>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Phase 14: ç«¶åˆåˆ†æ -->
    <div class="panel" data-panel="competition">
      <div class="kpis">
        <div class="kpi">
          <div class="label">ç·åˆ†æåœ°åŸŸæ•°</div>
          <div class="value">1,032</div>
        </div>
        <div class="kpi">
          <div class="label">ç·å¿œå‹Ÿè€…æ•°</div>
          <div class="value">80,000äºº</div>
        </div>
        <div class="kpi">
          <div class="label">å¹³å‡å¥³æ€§æ¯”ç‡</div>
          <div class="value">73%</div>
        </div>
        <div class="kpi">
          <div class="label">å¹³å‡å›½å®¶è³‡æ ¼ä¿æœ‰ç‡</div>
          <div class="value">1%</div>
        </div>
      </div>
      <div class="section">
        <h2>ç«¶äº‰ãŒæ¿€ã—ã„åœ°åŸŸTop 15</h2>
        <table>
          <thead>
            <tr>
              <th>åœ°åŸŸ</th>
              <th>ç·å¿œå‹Ÿè€…æ•°</th>
              <th>ä¸»è¦å¹´é½¢å±¤</th>
              <th>å¥³æ€§æ¯”ç‡</th>
              <th>å›½å®¶è³‡æ ¼ç‡</th>
            </tr>
          </thead>
          <tbody id="competitionTable"></tbody>
        </table>
      </div>
      <div class="section">
        <h2>ç«¶åˆåˆ†æå¯è¦–åŒ–</h2>
        <div class="chart-grid">
          <div class="chart-card">
            <header>Top 10 ç·å¿œå‹Ÿè€…æ•°</header>
            <div class="chart-body">
              <canvas id="competitionApplicantsChart"></canvas>
            </div>
          </div>
          <div class="chart-card">
            <header>Top 10 å¥³æ€§æ¯”ç‡</header>
            <div class="chart-body">
              <canvas id="competitionFemaleChart"></canvas>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ -->
    <div class="panel" data-panel="dashboard">
      <div class="section">
        <h2>ğŸ“Š çµ±åˆãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰</h2>
        <p style="color: #94a3b8; margin-bottom: 24px;">
          Phase 1-14ã®ã™ã¹ã¦ã®åˆ†æçµæœã‚’çµ±åˆã—ãŸãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã§ã™ã€‚<br>
          å„ã‚¿ãƒ–ã§è©³ç´°ãªãƒ‡ãƒ¼ã‚¿ã‚’ç¢ºèªã§ãã¾ã™ã€‚
        </p>
        <div class="kpis">
          <div class="kpi">
            <div class="label">æ±‚è·è€…æ•°</div>
            <div class="value">1,748äºº</div>
          </div>
          <div class="kpi">
            <div class="label">éœ€çµ¦ã‚®ãƒ£ãƒƒãƒ—Top</div>
            <div class="value">æ±äº¬éƒ½ä¸–ç”°è°·åŒº</div>
          </div>
          <div class="kpi">
            <div class="label">è¶…å¸Œå°‘ã‚±ãƒ¼ã‚¹</div>
            <div class="value">2,205ä»¶</div>
          </div>
          <div class="kpi">
            <div class="label">ç«¶äº‰æ¿€åŒ–åœ°åŸŸ</div>
            <div class="value">1,032ç®‡æ‰€</div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script>
    // ãƒ€ãƒŸãƒ¼ãƒ‡ãƒ¼ã‚¿
    const data = {
      gap: {
        top_gaps: [
          {location: "æ±äº¬éƒ½ä¸–ç”°è°·åŒº", demand_count: 1281, supply_count: 0, gap: 1281, demand_supply_ratio: 1281.0},
          {location: "æ±äº¬éƒ½ç·´é¦¬åŒº", demand_count: 1259, supply_count: 0, gap: 1259, demand_supply_ratio: 1259.0},
          {location: "æ±äº¬éƒ½è¶³ç«‹åŒº", demand_count: 1147, supply_count: 0, gap: 1147, demand_supply_ratio: 1147.0},
          {location: "æ±äº¬éƒ½æ±Ÿæˆ¸å·åŒº", demand_count: 1087, supply_count: 0, gap: 1087, demand_supply_ratio: 1087.0},
          {location: "æ±äº¬éƒ½ç”ºç”°å¸‚", demand_count: 1065, supply_count: 0, gap: 1065, demand_supply_ratio: 1065.0},
          {location: "ç¥å¥ˆå·çœŒæ¨ªæµœå¸‚", demand_count: 980, supply_count: 45, gap: 935, demand_supply_ratio: 21.8},
          {location: "åŸ¼ç‰çœŒã•ã„ãŸã¾å¸‚", demand_count: 850, supply_count: 32, gap: 818, demand_supply_ratio: 26.6},
          {location: "åƒè‘‰çœŒåƒè‘‰å¸‚", demand_count: 720, supply_count: 28, gap: 692, demand_supply_ratio: 25.7},
          {location: "å¤§é˜ªåºœå¤§é˜ªå¸‚", demand_count: 1450, supply_count: 78, gap: 1372, demand_supply_ratio: 18.6},
          {location: "æ„›çŸ¥çœŒåå¤å±‹å¸‚", demand_count: 920, supply_count: 52, gap: 868, demand_supply_ratio: 17.7}
        ]
      },
      rarity: {
        top_rarity: [
          {location: "ä¸‰é‡çœŒæ¾é˜ªå¸‚", age_bucket: "30ä»£", gender: "å¥³æ€§", has_national_license: false, count: 1, rarity_score: 1.0, rarity_rank: "S: è¶…å¸Œå°‘"},
          {location: "é¹¿å…å³¶çœŒé¹¿å±‹å¸‚", age_bucket: "30ä»£", gender: "ç”·æ€§", has_national_license: false, count: 1, rarity_score: 1.0, rarity_rank: "S: è¶…å¸Œå°‘"},
          {location: "ä¸‰é‡çœŒ", age_bucket: "20ä»£", gender: "å¥³æ€§", has_national_license: false, count: 1, rarity_score: 1.0, rarity_rank: "S: è¶…å¸Œå°‘"},
          {location: "ä¸‰é‡çœŒã„ãªã¹å¸‚", age_bucket: "30ä»£", gender: "å¥³æ€§", has_national_license: false, count: 1, rarity_score: 1.0, rarity_rank: "S: è¶…å¸Œå°‘"},
          {location: "ä¸‰é‡çœŒã„ãªã¹å¸‚", age_bucket: "70æ­³ä»¥ä¸Š", gender: "ç”·æ€§", has_national_license: false, count: 1, rarity_score: 1.0, rarity_rank: "S: è¶…å¸Œå°‘"},
          {location: "ç¦å²¡çœŒåŒ—ä¹å·å¸‚", age_bucket: "40ä»£", gender: "å¥³æ€§", has_national_license: true, count: 2, rarity_score: 0.5, rarity_rank: "A: éå¸¸ã«å¸Œå°‘"},
          {location: "åºƒå³¶çœŒåºƒå³¶å¸‚", age_bucket: "50ä»£", gender: "ç”·æ€§", has_national_license: true, count: 2, rarity_score: 0.5, rarity_rank: "A: éå¸¸ã«å¸Œå°‘"},
          {location: "äº¬éƒ½åºœäº¬éƒ½å¸‚", age_bucket: "30ä»£", gender: "å¥³æ€§", has_national_license: false, count: 3, rarity_score: 0.33, rarity_rank: "B: å¸Œå°‘"},
          {location: "ç¥å¥ˆå·çœŒå·å´å¸‚", age_bucket: "40ä»£", gender: "ç”·æ€§", has_national_license: false, count: 4, rarity_score: 0.25, rarity_rank: "B: å¸Œå°‘"},
          {location: "å¤§é˜ªåºœå ºå¸‚", age_bucket: "50ä»£", gender: "å¥³æ€§", has_national_license: true, count: 5, rarity_score: 0.20, rarity_rank: "B: å¸Œå°‘"},
          {location: "åŸ¼ç‰çœŒå·å£å¸‚", age_bucket: "30ä»£", gender: "ç”·æ€§", has_national_license: false, count: 8, rarity_score: 0.125, rarity_rank: "C: ã‚„ã‚„å¸Œå°‘"},
          {location: "åƒè‘‰çœŒèˆ¹æ©‹å¸‚", age_bucket: "40ä»£", gender: "å¥³æ€§", has_national_license: false, count: 12, rarity_score: 0.083, rarity_rank: "C: ã‚„ã‚„å¸Œå°‘"},
          {location: "å…µåº«çœŒç¥æˆ¸å¸‚", age_bucket: "50ä»£", gender: "ç”·æ€§", has_national_license: false, count: 15, rarity_score: 0.067, rarity_rank: "C: ã‚„ã‚„å¸Œå°‘"},
          {location: "ç¦å²¡çœŒç¦å²¡å¸‚", age_bucket: "30ä»£", gender: "å¥³æ€§", has_national_license: false, count: 25, rarity_score: 0.04, rarity_rank: "D: ä¸€èˆ¬çš„"},
          {location: "æ„›çŸ¥çœŒåå¤å±‹å¸‚", age_bucket: "40ä»£", gender: "å¥³æ€§", has_national_license: false, count: 32, rarity_score: 0.031, rarity_rank: "D: ä¸€èˆ¬çš„"}
        ],
        rank_distribution: {
          "S: è¶…å¸Œå°‘ï¼ˆ1äººã®ã¿ï¼‰": 2205,
          "A: éå¸¸ã«å¸Œå°‘ï¼ˆ2äººï¼‰": 628,
          "B: å¸Œå°‘ï¼ˆ3-5äººï¼‰": 515,
          "C: ã‚„ã‚„å¸Œå°‘ï¼ˆ6-20äººï¼‰": 631,
          "D: ä¸€èˆ¬çš„ï¼ˆ20äººè¶…ï¼‰": 521
        }
      },
      competition: {
        top_locations: [
          {location: "æ±äº¬éƒ½ä¸–ç”°è°·åŒº", total_applicants: 1281, top_age_group: "50ä»£", female_ratio: 0.724, national_license_rate: 0.007},
          {location: "æ±äº¬éƒ½ç·´é¦¬åŒº", total_applicants: 1259, top_age_group: "50ä»£", female_ratio: 0.756, national_license_rate: 0.007},
          {location: "æ±äº¬éƒ½è¶³ç«‹åŒº", total_applicants: 1147, top_age_group: "50ä»£", female_ratio: 0.750, national_license_rate: 0.008},
          {location: "æ±äº¬éƒ½æ±Ÿæˆ¸å·åŒº", total_applicants: 1087, top_age_group: "50ä»£", female_ratio: 0.760, national_license_rate: 0.007},
          {location: "æ±äº¬éƒ½ç”ºç”°å¸‚", total_applicants: 1065, top_age_group: "50ä»£", female_ratio: 0.763, national_license_rate: 0.007},
          {location: "å¤§é˜ªåºœå¤§é˜ªå¸‚", total_applicants: 1450, top_age_group: "50ä»£", female_ratio: 0.742, national_license_rate: 0.009},
          {location: "ç¥å¥ˆå·çœŒæ¨ªæµœå¸‚", total_applicants: 980, top_age_group: "40ä»£", female_ratio: 0.698, national_license_rate: 0.012},
          {location: "æ„›çŸ¥çœŒåå¤å±‹å¸‚", total_applicants: 920, top_age_group: "50ä»£", female_ratio: 0.715, national_license_rate: 0.010},
          {location: "åŸ¼ç‰çœŒã•ã„ãŸã¾å¸‚", total_applicants: 850, top_age_group: "50ä»£", female_ratio: 0.729, national_license_rate: 0.008},
          {location: "åƒè‘‰çœŒåƒè‘‰å¸‚", total_applicants: 720, top_age_group: "50ä»£", female_ratio: 0.735, national_license_rate: 0.009}
        ]
      }
    };

    // ã‚¿ãƒ–åˆ‡ã‚Šæ›¿ãˆ
    document.querySelectorAll('.tab').forEach(tab => {
      tab.addEventListener('click', () => {
        document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
        document.querySelectorAll('.panel').forEach(p => p.classList.remove('active'));
        tab.classList.add('active');
        document.querySelector(`[data-panel="${tab.dataset.tab}"]`).classList.add('active');
      });
    });

    // Chart.jså…±é€šè¨­å®š
    const chartDefaults = {
      responsive: true,
      maintainAspectRatio: false,
      scales: {
        x: { grid: { color: '#334155' }, ticks: { color: '#94a3b8' } },
        y: { grid: { color: '#334155' }, ticks: { color: '#94a3b8' } }
      },
      plugins: {
        legend: { labels: { color: '#f1f5f9' } }
      }
    };

    // Phase 1: ç·åˆæ¦‚è¦ãƒãƒ£ãƒ¼ãƒˆ
    new Chart(document.getElementById('overviewAgeChart'), {
      type: 'bar',
      data: {
        labels: ['20ä»£', '30ä»£', '40ä»£', '50ä»£', '60ä»£', '70æ­³ä»¥ä¸Š'],
        datasets: [{
          label: 'äººæ•°',
          data: [250, 242, 323, 497, 329, 107],
          backgroundColor: 'rgba(56, 189, 248, 0.8)'
        }]
      },
      options: chartDefaults
    });

    new Chart(document.getElementById('overviewGenderChart'), {
      type: 'doughnut',
      data: {
        labels: ['ç”·æ€§', 'å¥³æ€§'],
        datasets: [{
          data: [628, 1120],
          backgroundColor: ['rgba(59, 130, 246, 0.8)', 'rgba(236, 72, 153, 0.8)']
        }]
      },
      options: { responsive: true, maintainAspectRatio: false, plugins: { legend: { labels: { color: '#f1f5f9' } } } }
    });

    // äººæä¾›çµ¦ãƒãƒ£ãƒ¼ãƒˆ
    new Chart(document.getElementById('supplyStatusChart'), {
      type: 'pie',
      data: {
        labels: ['å°±æ¥­ä¸­', 'é›¢è·ä¸­', 'åœ¨å­¦ä¸­'],
        datasets: [{
          data: [1121, 550, 77],
          backgroundColor: ['rgba(34, 197, 94, 0.8)', 'rgba(251, 146, 60, 0.8)', 'rgba(168, 85, 247, 0.8)']
        }]
      },
      options: { responsive: true, maintainAspectRatio: false, plugins: { legend: { labels: { color: '#f1f5f9' } } } }
    });

    new Chart(document.getElementById('supplyQualChart'), {
      type: 'bar',
      data: {
        labels: ['è³‡æ ¼ãªã—', '1è³‡æ ¼', '2è³‡æ ¼', '3è³‡æ ¼ä»¥ä¸Š'],
        datasets: [{
          label: 'äººæ•°',
          data: [370, 533, 440, 405],
          backgroundColor: 'rgba(250, 204, 21, 0.8)'
        }]
      },
      options: chartDefaults
    });

    // ã‚­ãƒ£ãƒªã‚¢åˆ†æãƒãƒ£ãƒ¼ãƒˆ
    new Chart(document.getElementById('careerEducationChart'), {
      type: 'bar',
      data: {
        labels: ['20ä»£', '30ä»£', '40ä»£', '50ä»£', '60ä»£'],
        datasets: [
          { label: 'é«˜æ ¡å’', data: [45, 52, 78, 123, 89], backgroundColor: 'rgba(239, 68, 68, 0.8)' },
          { label: 'å°‚é–€å­¦æ ¡å’', data: [89, 95, 112, 156, 98], backgroundColor: 'rgba(251, 146, 60, 0.8)' },
          { label: 'å¤§å­¦å’', data: [116, 95, 133, 218, 142], backgroundColor: 'rgba(34, 197, 94, 0.8)' }
        ]
      },
      options: { ...chartDefaults, scales: { ...chartDefaults.scales, x: { ...chartDefaults.scales.x, stacked: true }, y: { ...chartDefaults.scales.y, stacked: true } } }
    });

    // ç·Šæ€¥åº¦åˆ†æãƒãƒ£ãƒ¼ãƒˆ
    new Chart(document.getElementById('urgencyAgeChart'), {
      type: 'bar',
      data: {
        labels: ['20ä»£', '30ä»£', '40ä»£', '50ä»£', '60ä»£'],
        datasets: [
          { label: 'HIGH', data: [78, 89, 95, 102, 56], backgroundColor: 'rgba(239, 68, 68, 0.8)' },
          { label: 'MEDIUM', data: [123, 145, 178, 245, 159], backgroundColor: 'rgba(250, 204, 21, 0.8)' },
          { label: 'LOW', data: [49, 8, 50, 150, 114], backgroundColor: 'rgba(34, 197, 94, 0.8)' }
        ]
      },
      options: { ...chartDefaults, scales: { ...chartDefaults.scales, x: { ...chartDefaults.scales.x, stacked: true }, y: { ...chartDefaults.scales.y, stacked: true } } }
    });

    // ã‚¯ãƒ­ã‚¹åˆ†æãƒãƒ£ãƒ¼ãƒˆ
    new Chart(document.getElementById('crossAgeEmploymentChart'), {
      type: 'bar',
      data: {
        labels: ['20ä»£', '30ä»£', '40ä»£', '50ä»£', '60ä»£'],
        datasets: [
          { label: 'å°±æ¥­ä¸­', data: [145, 156, 189, 312, 219], backgroundColor: 'rgba(34, 197, 94, 0.8)' },
          { label: 'é›¢è·ä¸­', data: [89, 76, 112, 165, 98], backgroundColor: 'rgba(251, 146, 60, 0.8)' },
          { label: 'åœ¨å­¦ä¸­', data: [16, 10, 22, 20, 12], backgroundColor: 'rgba(168, 85, 247, 0.8)' }
        ]
      },
      options: { ...chartDefaults, scales: { ...chartDefaults.scales, x: { ...chartDefaults.scales.x, stacked: true }, y: { ...chartDefaults.scales.y, stacked: true } } }
    });

    // Phase 12: éœ€çµ¦ã‚®ãƒ£ãƒƒãƒ—ãƒ†ãƒ¼ãƒ–ãƒ«
    const gapTableBody = document.getElementById('gapTable');
    data.gap.top_gaps.forEach(item => {
      gapTableBody.innerHTML += `
        <tr>
          <td>${item.location}</td>
          <td>${item.demand_count.toLocaleString()}</td>
          <td>${item.supply_count.toLocaleString()}</td>
          <td>${item.gap.toLocaleString()}</td>
          <td>${item.demand_supply_ratio.toFixed(2)}</td>
        </tr>
      `;
    });

    // Phase 12: éœ€çµ¦ã‚®ãƒ£ãƒƒãƒ—ãƒãƒ£ãƒ¼ãƒˆ
    new Chart(document.getElementById('gapChart'), {
      type: 'bar',
      data: {
        labels: data.gap.top_gaps.map(i => i.location),
        datasets: [
          { label: 'éœ€è¦', data: data.gap.top_gaps.map(i => i.demand_count), backgroundColor: 'rgba(56, 189, 248, 0.8)' },
          { label: 'ä¾›çµ¦', data: data.gap.top_gaps.map(i => i.supply_count), backgroundColor: 'rgba(251, 146, 60, 0.8)' }
        ]
      },
      options: { ...chartDefaults, indexAxis: 'y', scales: { x: { beginAtZero: true, grid: { color: '#334155' }, ticks: { color: '#94a3b8' } }, y: { grid: { color: '#334155' }, ticks: { color: '#94a3b8' } } } }
    });

    new Chart(document.getElementById('ratioChart'), {
      type: 'bar',
      data: {
        labels: data.gap.top_gaps.map(i => i.location),
        datasets: [{ label: 'éœ€çµ¦æ¯”ç‡', data: data.gap.top_gaps.map(i => i.demand_supply_ratio), backgroundColor: 'rgba(34, 197, 94, 0.8)' }]
      },
      options: { ...chartDefaults, indexAxis: 'y', scales: { x: { beginAtZero: true, grid: { color: '#334155' }, ticks: { color: '#94a3b8' } }, y: { grid: { color: '#334155' }, ticks: { color: '#94a3b8' } } } }
    });

    // Phase 13: å¸Œå°‘æ€§ãƒ†ãƒ¼ãƒ–ãƒ«
    const rarityTableBody = document.getElementById('rarityTable');
    data.rarity.top_rarity.forEach(item => {
      rarityTableBody.innerHTML += `
        <tr>
          <td>${item.location}</td>
          <td>${item.age_bucket}</td>
          <td>${item.gender}</td>
          <td>${item.has_national_license ? 'ã‚ã‚Š' : 'ãªã—'}</td>
          <td>${item.count}</td>
          <td>${item.rarity_score.toFixed(3)}</td>
          <td>${item.rarity_rank}</td>
        </tr>
      `;
    });

    // Phase 13: å¸Œå°‘æ€§ãƒãƒ£ãƒ¼ãƒˆ
    new Chart(document.getElementById('rarityDistChart'), {
      type: 'doughnut',
      data: {
        labels: Object.keys(data.rarity.rank_distribution),
        datasets: [{
          data: Object.values(data.rarity.rank_distribution),
          backgroundColor: ['rgba(239, 68, 68, 0.8)', 'rgba(251, 146, 60, 0.8)', 'rgba(250, 204, 21, 0.8)', 'rgba(34, 197, 94, 0.8)', 'rgba(56, 189, 248, 0.8)']
        }]
      },
      options: { responsive: true, maintainAspectRatio: false, plugins: { legend: { labels: { color: '#f1f5f9' } } } }
    });

    new Chart(document.getElementById('rarityScoreChart'), {
      type: 'bar',
      data: {
        labels: data.rarity.top_rarity.slice(0, 10).map(i => i.location),
        datasets: [{ label: 'å¸Œå°‘æ€§ã‚¹ã‚³ã‚¢', data: data.rarity.top_rarity.slice(0, 10).map(i => i.rarity_score), backgroundColor: 'rgba(168, 85, 247, 0.8)' }]
      },
      options: { ...chartDefaults, indexAxis: 'y', scales: { x: { beginAtZero: true, max: 1, grid: { color: '#334155' }, ticks: { color: '#94a3b8' } }, y: { grid: { color: '#334155' }, ticks: { color: '#94a3b8' } } } }
    });

    // Phase 14: ç«¶åˆåˆ†æãƒ†ãƒ¼ãƒ–ãƒ«
    const competitionTableBody = document.getElementById('competitionTable');
    data.competition.top_locations.forEach(item => {
      competitionTableBody.innerHTML += `
        <tr>
          <td>${item.location}</td>
          <td>${item.total_applicants.toLocaleString()}</td>
          <td>${item.top_age_group}</td>
          <td>${(item.female_ratio * 100).toFixed(1)}%</td>
          <td>${(item.national_license_rate * 100).toFixed(1)}%</td>
        </tr>
      `;
    });

    // Phase 14: ç«¶åˆåˆ†æãƒãƒ£ãƒ¼ãƒˆ
    new Chart(document.getElementById('competitionApplicantsChart'), {
      type: 'bar',
      data: {
        labels: data.competition.top_locations.map(i => i.location),
        datasets: [{ label: 'ç·å¿œå‹Ÿè€…æ•°', data: data.competition.top_locations.map(i => i.total_applicants), backgroundColor: 'rgba(236, 72, 153, 0.8)' }]
      },
      options: { ...chartDefaults, indexAxis: 'y', scales: { x: { beginAtZero: true, grid: { color: '#334155' }, ticks: { color: '#94a3b8' } }, y: { grid: { color: '#334155' }, ticks: { color: '#94a3b8' } } } }
    });

    new Chart(document.getElementById('competitionFemaleChart'), {
      type: 'bar',
      data: {
        labels: data.competition.top_locations.map(i => i.location),
        datasets: [{ label: 'å¥³æ€§æ¯”ç‡ (%)', data: data.competition.top_locations.map(i => i.female_ratio * 100), backgroundColor: 'rgba(244, 114, 182, 0.8)' }]
      },
      options: { ...chartDefaults, indexAxis: 'y', scales: { x: { beginAtZero: true, max: 100, grid: { color: '#334155' }, ticks: { color: '#94a3b8' } }, y: { grid: { color: '#334155' }, ticks: { color: '#94a3b8' } } } }
    });
  </script>
</body>
</html>
