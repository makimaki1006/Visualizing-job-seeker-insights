# 完全機能マトリクス - 現状 vs 実装可能機能（MECE分析）

## 前提条件

- **V3 CSVデータ**: 17,631行、36カラム
- **8種類のrow_type**: SUMMARY, AGE_GENDER, RARITY, URGENCY_AGE, URGENCY_EMPLOYMENT, GAP, FLOW, COMPETITION
- **現在のダッシュボード**: 7タブ構成

---

## 【軸1】データソース別分類（MECE）

### 1.1 SUMMARY行（944行）- 都道府県×市町村別サマリー

| 項目 | 現状 | 実装可能 | データカラム | 優先度 |
|------|------|----------|-------------|--------|
| **基本統計** |
| 総申請者数 | ✅ 実装済み | - | applicant_count | - |
| 平均年齢 | ✅ 実装済み | - | avg_age | - |
| 男女比率 | ✅ 実装済み（円グラフ） | 📊 時系列トレンド | male_count, female_count | B |
| 平均資格数 | ❌ 未実装 | 📊 分布ヒストグラム | avg_qualifications | A |
| **地域間移動** |
| 流入数 | ❌ 未実装 | 📊 流入ランキングTop 20 | inflow | A |
| 流出数 | ❌ 未実装 | 📊 流出ランキングTop 20 | outflow | A |
| 純流入 | ❌ 未実装 | 📊 純流入マップ（プラス/マイナス） | net_flow | A |
| **需給バランス** |
| 需要数 | ✅ 実装済み | - | demand_count | - |
| 供給数 | ✅ 実装済み | - | supply_count | - |
| ギャップ | ✅ 実装済み | - | gap | - |

**SUMMARY行 実装率**: 6/12 (50%)

---

### 1.2 AGE_GENDER行（4,231行）- 年齢層×性別クロス

| 項目 | 現状 | 実装可能 | データカラム | 優先度 |
|------|------|----------|-------------|--------|
| **年齢分布** |
| 年齢層別人数 | ✅ 実装済み（横棒グラフ） | - | category1（年齢層）, count | - |
| 平均年齢 | ✅ 実装済み | - | avg_age | - |
| 年齢層×性別クロス | ✅ 実装済み（グループ化棒グラフ） | - | category1, category2, count | - |
| **新規可視化** |
| 年齢層別流入/流出 | ❌ 未実装 | 📊 年齢層別流入流出比較 | inflow, outflow | B |
| 年齢層別需給バランス | ❌ 未実装 | 📊 年齢層別ギャップマップ | gap, demand_count, supply_count | A |
| 年齢ピラミッド | ❌ 未実装 | 📊 人口ピラミッド風グラフ | category1, category2, count | B |

**AGE_GENDER行 実装率**: 3/6 (50%)

---

### 1.3 RARITY行（4,950行）- 希少人材分析

| 項目 | 現状 | 実装可能 | データカラム | 優先度 |
|------|------|----------|-------------|--------|
| **基本分析** |
| 年齢層別希少性 | ✅ 実装済み（category1） | - | category1（年齢層）, count | - |
| 性別別希少性 | ✅ 実装済み（円グラフ・色修正済み） | - | category2（性別）, count | - |
| 希少性レベル別 | ✅ 実装済み（category3） | - | category3（希少性レベル）, count | - |
| 国家資格保有者ランキング | ✅ 実装済み | - | has_national_license, count | - |
| **未活用の重要指標** |
| 希少性スコアランキング | ❌ 未実装 | 📊 Top 20希少人材ランキング | rarity_score | **A+** |
| 希少性スコア分布 | ❌ 未実装 | 📊 スコア分布ヒートマップ | rarity_score | A |
| 希少性×流入流出 | ❌ 未実装 | 📊 希少人材の移動傾向 | rarity_score, inflow, outflow | B |
| 希少性×需給ギャップ | ❌ 未実装 | 📊 希少人材ギャップマトリクス | rarity_score, gap | A |

**RARITY行 実装率**: 4/8 (50%)

---

### 1.4 URGENCY_AGE行（2,942行）- 緊急度×年齢層

| 項目 | 現状 | 実装可能 | データカラム | 優先度 |
|------|------|----------|-------------|--------|
| **基本分析** |
| 年齢層別緊急度分布 | ✅ 実装済み | - | category2（年齢層）, count | - |
| **未活用の重要指標** |
| 平均緊急度スコア | ❌ 未実装 | 📊 緊急度スコア分布 | avg_urgency_score | **A+** |
| 緊急度×年齢層ヒートマップ | ❌ 未実装 | 📊 年齢層別緊急度マップ | avg_urgency_score, category2 | A |
| 緊急度ランキング | ❌ 未実装 | 📊 高緊急度市町村Top 20 | avg_urgency_score | A |
| 緊急度×流入流出 | ❌ 未実装 | 📊 緊急度別移動傾向 | avg_urgency_score, inflow, outflow | B |

**URGENCY_AGE行 実装率**: 1/5 (20%)

---

### 1.5 URGENCY_EMPLOYMENT行（1,666行）- 緊急度×就業状況

| 項目 | 現状 | 実装可能 | データカラム | 優先度 |
|------|------|----------|-------------|--------|
| **基本分析** |
| 就業状況別緊急度分布 | ✅ 実装済み | - | category2（就業状況）, count | - |
| **未活用の重要指標** |
| 就業状況×緊急度スコア | ❌ 未実装 | 📊 就業状況別平均緊急度 | avg_urgency_score, category2 | A |
| 就業状況×流入流出 | ❌ 未実装 | 📊 就業状況別移動パターン | category2, inflow, outflow | B |

**URGENCY_EMPLOYMENT行 実装率**: 1/3 (33%)

---

### 1.6 GAP行（966行）- 需給ギャップ分析

| 項目 | 現状 | 実装可能 | データカラム | 優先度 |
|------|------|----------|-------------|--------|
| **基本分析** |
| 需要 vs 供給 | ✅ 実装済み（棒グラフ） | - | demand_count, supply_count | - |
| バランスドーナツ | ✅ 実装済み | - | gap, supply_count | - |
| 地域別散布図 | ✅ 実装済み | - | municipality, demand/supply | - |
| **未活用の重要指標** |
| 需給比率ランキング | ❌ 未実装 | 📊 需給比率Top/Bottom 20 | demand_supply_ratio | **A+** |
| 需給比率マトリクス | ❌ 未実装 | 📊 需給比率×供給数散布図 | demand_supply_ratio, supply_count | A |
| ギャップ重症度マップ | ❌ 未実装 | 📊 ギャップ絶対値ヒートマップ | gap（絶対値） | A |

**GAP行 実装率**: 3/6 (50%)

---

### 1.7 FLOW行（966行）- 人材フロー分析

| 項目 | 現状 | 実装可能 | データカラム | 優先度 |
|------|------|----------|-------------|--------|
| **基本分析** |
| 流入流出比較 | ❌ 未実装 | 📊 流入 vs 流出棒グラフ | inflow, outflow | A |
| 純流入ランキング | ❌ 未実装 | 📊 純流入Top/Bottom 20 | net_flow | A |
| 流入流出マトリクス | ❌ 未実装 | 📊 流入×流出散布図 | inflow, outflow | B |
| フロー可視化 | ❌ 未実装 | 📊 Sankeyダイアグラム | inflow, outflow, municipality | C |

**FLOW行 実装率**: 0/4 (0%)

---

### 1.8 COMPETITION行（966行）- 競合環境分析

| 項目 | 現状 | 実装可能 | データカラム | 優先度 |
|------|------|----------|-------------|--------|
| **基本分析** |
| 性別分布 | ✅ 実装済み | - | category1（性別）, count | - |
| **未活用の重要指標** |
| 国家資格保有率 | ❌ 未実装 | 📊 資格保有率ランキング | national_license_rate | **A+** |
| 平均資格数 | ❌ 未実装 | 📊 資格数分布ヒストグラム | avg_qualification_count | A |
| トップ年齢比率 | ❌ 未実装 | 📊 年齢集中度マップ | top_age_ratio | B |
| 女性比率 | ❌ 未実装 | 📊 女性比率ランキング | female_ratio | B |
| トップ就業状況比率 | ❌ 未実装 | 📊 就業集中度マップ | top_employment_ratio | B |
| 競合強度スコア | ❌ 未実装 | 📊 複合指標スコアリング | national_license_rate, avg_qualification_count, top_age_ratio | A |

**COMPETITION行 実装率**: 1/7 (14%)

---

## 【軸2】可視化手法別分類（MECE）

### 2.1 単一指標グラフ

| グラフ種類 | 現状実装数 | 実装可能数 | 優先度A以上 |
|-----------|-----------|-----------|------------|
| KPIカード | 12個 | 25個 | 8個 |
| 横棒グラフ（ランキング） | 8個 | 20個 | 10個 |
| 円グラフ | 4個 | 8個 | 2個 |
| ドーナツチャート | 3個 | 6個 | 1個 |
| ヒストグラム | 0個 | 8個 | 4個 |

**単一指標グラフ 実装率**: 27/67 (40%)

---

### 2.2 クロス分析グラフ

| グラフ種類 | 現状実装数 | 実装可能数 | 優先度A以上 |
|-----------|-----------|-----------|------------|
| グループ化棒グラフ | 3個 | 12個 | 5個 |
| 積み上げ棒グラフ | 0個 | 8個 | 3個 |
| 散布図 | 1個 | 10個 | 6個 |
| ヒートマップ | 0個 | 12個 | 8個 |
| バブルチャート | 0個 | 6個 | 2個 |

**クロス分析グラフ 実装率**: 4/48 (8%)

---

### 2.3 高度可視化

| グラフ種類 | 現状実装数 | 実装可能数 | 優先度A以上 |
|-----------|-----------|-----------|------------|
| Sankeyダイアグラム | 0個 | 2個 | 0個 |
| 地図プロット（Mapbox） | 0個 | 1個 | 0個 |
| レーダーチャート | 0個 | 4個 | 2個 |
| パラレルコーディネート | 0個 | 2個 | 1個 |

**高度可視化 実装率**: 0/9 (0%)

---

## 【軸3】分析軸別分類（MECE）

### 3.1 人口統計軸

| 分析項目 | 現状 | 実装可能 | 優先度 |
|---------|------|----------|--------|
| 年齢層別分析 | ✅ 部分実装 | 📊 年齢ピラミッド、トレンド分析 | B |
| 性別分析 | ✅ 実装済み | 📊 性別比率トレンド | B |
| 年齢×性別クロス | ✅ 実装済み | - | - |

---

### 3.2 地理軸

| 分析項目 | 現状 | 実装可能 | 優先度 |
|---------|------|----------|--------|
| 都道府県別 | ✅ フィルタ実装 | - | - |
| 市町村別 | ✅ フィルタ実装 | - | - |
| 流入流出分析 | ❌ 未実装 | 📊 流入流出ランキング、Sankeyダイアグラム | A |
| 純流入マップ | ❌ 未実装 | 📊 純流入ヒートマップ | A |

---

### 3.3 スキル・資格軸

| 分析項目 | 現状 | 実装可能 | 優先度 |
|---------|------|----------|--------|
| 平均資格数 | ❌ 未実装 | 📊 資格数分布ヒストグラム | A |
| 国家資格保有率 | ❌ 未実装 | 📊 資格保有率ランキング | **A+** |
| 資格×年齢クロス | ❌ 未実装 | 📊 年齢層別資格保有状況 | B |
| 資格×地域クロス | ❌ 未実装 | 📊 地域別資格分布マップ | B |

**注意**: 元データに個別資格名がある場合、バイネーム分析が可能（要確認）

---

### 3.4 希少性軸

| 分析項目 | 現状 | 実装可能 | 優先度 |
|---------|------|----------|--------|
| 希少性レベル別 | ✅ 実装済み | - | - |
| 希少性スコア | ❌ 未実装 | 📊 スコアランキング、分布マップ | **A+** |
| 希少性×需給ギャップ | ❌ 未実装 | 📊 希少人材ギャップマトリクス | A |
| 希少性×移動傾向 | ❌ 未実装 | 📊 希少人材フロー分析 | B |

---

### 3.5 緊急度・モチベーション軸

| 分析項目 | 現状 | 実装可能 | 優先度 |
|---------|------|----------|--------|
| 緊急度スコア分布 | ❌ 未実装 | 📊 緊急度ヒートマップ | **A+** |
| 緊急度×年齢層 | ✅ 部分実装 | 📊 詳細ヒートマップ | A |
| 緊急度×就業状況 | ✅ 部分実装 | 📊 詳細ヒートマップ | A |
| 緊急度ランキング | ❌ 未実装 | 📊 高緊急度市町村Top 20 | A |

---

### 3.6 需給バランス軸

| 分析項目 | 現状 | 実装可能 | 優先度 |
|---------|------|----------|--------|
| 需要 vs 供給 | ✅ 実装済み | - | - |
| ギャップ絶対値 | ✅ 実装済み | - | - |
| 需給比率 | ❌ 未実装 | 📊 需給比率ランキング、マトリクス | **A+** |
| 需給×希少性クロス | ❌ 未実装 | 📊 希少人材需給マップ | A |

---

### 3.7 競合環境軸

| 分析項目 | 現状 | 実装可能 | 優先度 |
|---------|------|----------|--------|
| 市場シェア | ❌ 未実装 | ⚠️ データなし（0行） | - |
| 競合強度スコア | ❌ 未実装 | 📊 複合指標スコアリング | A |
| 年齢集中度 | ❌ 未実装 | 📊 トップ年齢比率マップ | B |
| 就業集中度 | ❌ 未実装 | 📊 トップ就業比率マップ | B |

---

## 【軸4】タブ別実装状況（現在の7タブ）

| タブ名 | 実装済み機能数 | 実装可能機能数 | 実装率 | 優先追加機能 |
|-------|-------------|--------------|--------|-------------|
| 📊 概要 | 6個 | 12個 | 50% | 流入流出ランキング、純流入マップ |
| 👥 年齢・性別 | 3個 | 8個 | 38% | 年齢別需給バランス、年齢ピラミッド |
| 🎯 ペルソナ | 2個 | 6個 | 33% | ペルソナ×緊急度クロス |
| 🔥 緊急度 | 2個 | 10個 | 20% | 緊急度スコア分布、緊急度ランキング |
| 💎 希少人材 | 4個 | 12個 | 33% | 希少性スコアランキング、希少性×需給 |
| ⚖️ 需給バランス | 3個 | 9個 | 33% | 需給比率ランキング、需給比率マトリクス |
| 🏆 競合 | 1個 | 10個 | 10% | 国家資格保有率、資格数分布、競合強度 |

**全体実装率**: 21/67 (31%)

---

## 【優先度A+】即座に実装すべき機能（高価値・低工数）

1. **希少性スコアランキング** (RARITY行)
   - Top 20 希少人材ランキング（横棒グラフ）
   - データ: `rarity_score`, `category1`, `category2`, `category3`
   - 工数: 30分

2. **緊急度スコア分布** (URGENCY_AGE行)
   - 緊急度ヒートマップ（市町村×年齢層）
   - データ: `avg_urgency_score`, `municipality`, `category2`
   - 工数: 1時間

3. **需給比率ランキング** (GAP行)
   - 需給比率Top/Bottom 20（横棒グラフ）
   - データ: `demand_supply_ratio`, `municipality`
   - 工数: 30分

4. **国家資格保有率ランキング** (COMPETITION行)
   - 資格保有率Top 20（横棒グラフ）
   - データ: `national_license_rate`, `municipality`
   - 工数: 30分

5. **流入流出ランキング** (FLOW行/SUMMARY行)
   - 流入Top 20、流出Top 20、純流入Top 20
   - データ: `inflow`, `outflow`, `net_flow`
   - 工数: 1時間

**優先度A+ 合計工数**: 約3.5時間

---

## サマリー

### 全体実装状況

- **総機能数**: 67個の可視化機能が実装可能
- **現在実装済み**: 21個 (31%)
- **未実装**: 46個 (69%)

### row_type別実装率

| row_type | 実装率 | 最優先追加機能 |
|----------|--------|---------------|
| SUMMARY | 50% | 流入流出分析 |
| AGE_GENDER | 50% | 年齢別需給バランス |
| RARITY | 50% | 希少性スコアランキング |
| URGENCY_AGE | 20% | 緊急度スコア分布 |
| URGENCY_EMPLOYMENT | 33% | 就業状況×緊急度 |
| GAP | 50% | 需給比率ランキング |
| FLOW | 0% | 流入流出ランキング |
| COMPETITION | 14% | 国家資格保有率 |

### 優先度別内訳

- **優先度A+**: 5機能（合計3.5時間で実装可能）
- **優先度A**: 28機能
- **優先度B**: 10機能
- **優先度C**: 3機能

---

## 推奨実装順序

### フェーズ1（3.5時間）- 優先度A+のみ
1. 希少性スコアランキング
2. 緊急度スコア分布
3. 需給比率ランキング
4. 国家資格保有率ランキング
5. 流入流出ランキング

### フェーズ2（1日）- 優先度Aの高価値機能
1. 希少性×需給ギャップマトリクス
2. 平均資格数分布
3. 年齢別需給バランス
4. 競合強度スコアリング
5. 緊急度ランキング

### フェーズ3（2-3日）- クロス分析強化
1. ヒートマップ系（8個）
2. 散布図系（6個）
3. 高度可視化（Sankey、レーダー）

---

## 次のステップ

どのフェーズから実装を開始しますか？

- **オプション1**: フェーズ1（3.5時間）のみ実装して効果を確認
- **オプション2**: フェーズ1+2を1日で実装
- **オプション3**: 特定のrow_typeに集中（例: COMPETITION行の全機能）
- **オプション4**: 特定のタブに集中（例: 競合タブを10% → 80%に）

ご指示ください。
