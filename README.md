# ã‚¸ãƒ§ãƒ–ãƒ¡ãƒ‰ãƒ¬ãƒ¼æ±‚è·è€…ãƒ‡ãƒ¼ã‚¿åˆ†æãƒ»å¯è¦–åŒ–ã‚·ã‚¹ãƒ†ãƒ 

[![Python Tests](https://github.com/makimaki1006/Visualizing-job-seeker-insights/actions/workflows/python-tests.yml/badge.svg)](https://github.com/makimaki1006/Visualizing-job-seeker-insights/actions/workflows/python-tests.yml)

## ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦

æ±‚è·è€…ãƒ‡ãƒ¼ã‚¿ã‚’å¤šè§’çš„ã«åˆ†æã—ã€Google Apps Scriptï¼ˆGASï¼‰ã¨é€£æºã—ã¦å¯è¦–åŒ–ã™ã‚‹åŒ…æ‹¬çš„ãªãƒ‡ãƒ¼ã‚¿åˆ†æã‚·ã‚¹ãƒ†ãƒ ã§ã™ã€‚

### ä¸»è¦æ©Ÿèƒ½

- **Phase 1-10å®Œå…¨å®Ÿè£…**: åŸºç¤é›†è¨ˆã‹ã‚‰é«˜åº¦åˆ†æã¾ã§10æ®µéšã®åˆ†æãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³
- **MapComplete dashboard**: å¸‚åŒºç”ºæ‘ãƒ¬ãƒ™ãƒ«ã®éœ€è¦ãƒãƒƒãƒ—ï¼ˆæ€§èƒ½æœ€é©åŒ–: 21ç§’â†’2-3ç§’ã€87%æ”¹å–„ï¼‰
- **PersonaLevelçµ±åˆã‚·ãƒ¼ãƒˆ**: ãƒšãƒ«ã‚½ãƒŠã‚»ã‚°ãƒ¡ãƒ³ãƒˆãƒ¬ãƒ™ãƒ«åˆ†æï¼ˆ602è¡ŒÃ—43åˆ—ã€7ãƒ•ã‚§ãƒ¼ã‚ºçµ±åˆï¼‰
- **GASçµ±åˆ**: Google Spreadsheetsã§ã®ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–å¯è¦–åŒ–

### ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–

| é …ç›® | æ”¹å–„å‰ | æ”¹å–„å¾Œ | æ”¹å–„ç‡ |
|------|--------|--------|--------|
| ãƒ‡ãƒ¼ã‚¿ãƒ­ãƒ¼ãƒ‰æ™‚é–“ | 21ç§’ | 2-3ç§’ | 87-90% |
| ã‚·ãƒ¼ãƒˆèª­ã¿è¾¼ã¿å›æ•° | 15å› | 1å› | 93% |
| ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆãƒªã‚¹ã‚¯ | é«˜ | ä½ | - |

## æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

### Python
- **pandas**: ãƒ‡ãƒ¼ã‚¿å‡¦ç†ãƒ»é›†è¨ˆ
- **numpy**: æ•°å€¤è¨ˆç®—
- **scikit-learn**: æ©Ÿæ¢°å­¦ç¿’ãƒ»çµ±è¨ˆåˆ†æ
- **matplotlib/seaborn**: ã‚°ãƒ©ãƒ•å¯è¦–åŒ–

### Google Apps Script
- **Google Sheets API**: ãƒ‡ãƒ¼ã‚¿ç®¡ç†
- **Google Charts API**: ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–å¯è¦–åŒ–
- **Google Maps Geocoding API**: åº§æ¨™å–å¾—

### Node.js
- **E2Eãƒ†ã‚¹ãƒˆ**: GASã‚³ãƒ¼ãƒ‰ã®ãƒ­ãƒ¼ã‚«ãƒ«ãƒ†ã‚¹ãƒˆç’°å¢ƒ

## ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆ

### å¿…è¦è¦ä»¶

- Python 3.8ä»¥ä¸Š
- Google ã‚¢ã‚«ã‚¦ãƒ³ãƒˆï¼ˆGoogle Sheetsç”¨ï¼‰
- Node.js 14ä»¥ä¸Šï¼ˆãƒ†ã‚¹ãƒˆå®Ÿè¡Œæ™‚ã®ã¿ï¼‰

### ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

```bash
# ãƒªãƒã‚¸ãƒˆãƒªã®ã‚¯ãƒ­ãƒ¼ãƒ³
git clone https://github.com/makimaki1006/Visualizing-job-seeker-insights.git
cd Visualizing-job-seeker-insights

# Pythonä¾å­˜é–¢ä¿‚ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
pip install -r requirements.txt
```

### åŸºæœ¬çš„ãªä½¿ã„æ–¹

#### 1. ãƒ‡ãƒ¼ã‚¿åˆ†æã®å®Ÿè¡Œ

```bash
cd python_scripts
python run_complete_v2.py
```

GUIã§CSVãƒ•ã‚¡ã‚¤ãƒ«ã‚’é¸æŠã—ã€Phase 1-10ã™ã¹ã¦ã®CSVãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç”Ÿæˆã—ã¾ã™ã€‚

#### 2. GASã¸ã®ãƒ‡ãƒ—ãƒ­ã‚¤

```bash
cd gas_deployment
clasp push
```

`gas_deployment/` å†…ã®ã™ã¹ã¦ã®ãƒ•ã‚¡ã‚¤ãƒ«ãŒGoogle Apps Scriptãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«ãƒ‡ãƒ—ãƒ­ã‚¤ã•ã‚Œã¾ã™ã€‚

#### 3. Google Sheetsã§ã®å¯è¦–åŒ–

1. Google Spreadsheetsã§æ–°è¦ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆã‚’ä½œæˆ
2. ãƒ¡ãƒ‹ãƒ¥ãƒ¼: `ğŸ“Š ãƒ‡ãƒ¼ã‚¿å‡¦ç†` â†’ `âš¡ é«˜é€ŸCSVã‚¤ãƒ³ãƒãƒ¼ãƒˆï¼ˆæ¨å¥¨ï¼‰`
3. ç”Ÿæˆã•ã‚ŒãŸCSVãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰
4. ãƒ¡ãƒ‹ãƒ¥ãƒ¼: `ğŸ—ºï¸ åœ°å›³è¡¨ç¤ºï¼ˆãƒãƒ–ãƒ«ï¼‰` ã¾ãŸã¯ `ğŸ“ åœ°å›³è¡¨ç¤ºï¼ˆãƒ’ãƒ¼ãƒˆãƒãƒƒãƒ—ï¼‰`

## ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹æˆ

```
Visualizing-job-seeker-insights/
â”œâ”€â”€ python_scripts/               # Pythonãƒ‡ãƒ¼ã‚¿å‡¦ç†ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
â”‚   â”œâ”€â”€ run_complete_v2.py        # ãƒ¡ã‚¤ãƒ³å®Ÿè¡Œã‚¹ã‚¯ãƒªãƒ—ãƒˆï¼ˆv2æ–°å½¢å¼ï¼‰
â”‚   â”œâ”€â”€ generate_persona_level_sheets.py  # PersonaLevelçµ±åˆã‚·ãƒ¼ãƒˆç”Ÿæˆ
â”‚   â””â”€â”€ data/                     # ãƒ‡ãƒ¼ã‚¿å‡ºåŠ›ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª
â”‚       â””â”€â”€ output_v2/            # Phase 1-10å‡ºåŠ›
â”‚
â”œâ”€â”€ gas_deployment/               # GASæœ¬ç•ªç’°å¢ƒãƒ•ã‚¡ã‚¤ãƒ«
â”‚   â”œâ”€â”€ PersonaLevelDataBridge.gs  # é«˜é€Ÿãƒ‡ãƒ¼ã‚¿ãƒ–ãƒªãƒƒã‚¸
â”‚   â”œâ”€â”€ MapCompleteDataBridge.gs   # MapCompleteãƒ‡ãƒ¼ã‚¿ãƒ–ãƒªãƒƒã‚¸
â”‚   â”œâ”€â”€ MenuIntegration.gs         # ãƒ¡ãƒ‹ãƒ¥ãƒ¼çµ±åˆ
â”‚   â””â”€â”€ *.html                     # HTMLãƒ€ã‚¤ã‚¢ãƒ­ã‚°
â”‚
â”œâ”€â”€ docs/                         # ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
â”‚   â”œâ”€â”€ PERSONA_LEVEL_INTEGRATION_GUIDE.md
â”‚   â”œâ”€â”€ PERSONA_LEVEL_GAS_INTEGRATION_GUIDE.md
â”‚   â””â”€â”€ *.md                      # å„ç¨®è¨­è¨ˆæ›¸ãƒ»ã‚¬ã‚¤ãƒ‰
â”‚
â””â”€â”€ tests/                        # ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«
    â”œâ”€â”€ unit/                     # ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆ
    â”œâ”€â”€ integration/              # çµ±åˆãƒ†ã‚¹ãƒˆ
    â”œâ”€â”€ e2e/                      # E2Eãƒ†ã‚¹ãƒˆ
    â””â”€â”€ regression/               # å›å¸°ãƒ†ã‚¹ãƒˆ
```

## ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼

```
ç”ŸCSVãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆã‚¸ãƒ§ãƒ–ãƒ¡ãƒ‰ãƒ¬ãƒ¼ï¼‰
    â†“
[run_complete_v2.py]
    â†“
Phase 1-10 CSVãƒ•ã‚¡ã‚¤ãƒ«ç”Ÿæˆ
    â†“
[GAS: é«˜é€ŸCSVã‚¤ãƒ³ãƒãƒ¼ãƒˆ]
    â†“
Google Spreadsheet
    â†“
[GAS: å„ç¨®å¯è¦–åŒ–æ©Ÿèƒ½]
    â†“
ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–å¯è¦–åŒ–ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰
```

## Phaseæ¦‚è¦

| Phase | æ©Ÿèƒ½ | å‡ºåŠ›ãƒ•ã‚¡ã‚¤ãƒ«æ•° |
|-------|------|---------------|
| Phase 1 | åŸºç¤é›†è¨ˆ | 6 |
| Phase 2 | çµ±è¨ˆåˆ†æï¼ˆã‚«ã‚¤äºŒä¹—æ¤œå®šã€ANOVAï¼‰ | 3 |
| Phase 3 | ãƒšãƒ«ã‚½ãƒŠåˆ†æ | 3 |
| Phase 6 | ãƒ•ãƒ­ãƒ¼ãƒ»ç§»å‹•ãƒ‘ã‚¿ãƒ¼ãƒ³åˆ†æ | 4 |
| Phase 7 | é«˜åº¦åˆ†æï¼ˆä¾›çµ¦å¯†åº¦ã€è³‡æ ¼åˆ†å¸ƒã€ç§»å‹•è¨±å®¹åº¦ï¼‰ | 6 |
| Phase 8 | ã‚­ãƒ£ãƒªã‚¢ãƒ»å­¦æ­´åˆ†æ | 6 |
| Phase 10 | è»¢è·æ„æ¬²ãƒ»ç·Šæ€¥åº¦åˆ†æ | 7 |
| Phase 12 | éœ€çµ¦ã‚®ãƒ£ãƒƒãƒ—åˆ†æ | - |
| Phase 13 | å¸Œå°‘æ€§ã‚¹ã‚³ã‚¢åˆ†æ | - |
| Phase 14 | ç«¶åˆãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«åˆ†æ | - |

## ãƒ†ã‚¹ãƒˆ

### Pythonãƒ†ã‚¹ãƒˆ

```bash
# ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆ
pytest tests/unit/

# çµ±åˆãƒ†ã‚¹ãƒˆ
pytest tests/integration/

# E2Eãƒ†ã‚¹ãƒˆ
pytest tests/e2e/

# ã™ã¹ã¦ã®ãƒ†ã‚¹ãƒˆ
pytest
```

### GASãƒ†ã‚¹ãƒˆï¼ˆNode.jsï¼‰

```bash
cd gas_test
npm install
node gas_e2e_test.js
```

## æ€§èƒ½æœ€é©åŒ–ã®è©³ç´°

### PersonaLevelçµ±åˆã‚·ãƒ¼ãƒˆ

**èª²é¡Œ**: MapComplete dashboardã®ãƒ‡ãƒ¼ã‚¿ãƒ­ãƒ¼ãƒ‰æ™‚é–“ãŒ21ç§’ã‹ã‹ã‚Šã€ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆãƒªã‚¹ã‚¯ãŒé«˜ã„

**åŸå› **:
- 15ã‚·ãƒ¼ãƒˆã‚’é †æ¬¡èª­ã¿è¾¼ã¿
- å„ã‚·ãƒ¼ãƒˆèª­ã¿è¾¼ã¿ã«1.4ç§’
- åˆè¨ˆ: 15 Ã— 1.4 = 21ç§’

**è§£æ±ºç­–**:
1. **Pythonå´**: 7ãƒ•ã‚§ãƒ¼ã‚ºã®ãƒ‡ãƒ¼ã‚¿ã‚’éƒ½é“åºœçœŒåˆ¥ã«ãƒãƒ¼ã‚¸
2. **1ã‚·ãƒ¼ãƒˆåŒ–**: `PersonaLevel_<éƒ½é“åºœçœŒå>.csv`ï¼ˆ602è¡ŒÃ—43åˆ—ï¼‰
3. **GASæœ€é©åŒ–**: `getDataRange().getValues()` 1å›ã®ã¿

**çµæœ**:
- **2-3ç§’**ï¼ˆ87-90%å‰Šæ¸›ï¼‰
- ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆãƒªã‚¹ã‚¯è§£æ¶ˆ
- ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½“é¨“å‘ä¸Š

### æŠ€è¡“çš„è©³ç´°

**PersonaLevelDataBridge.gs**: `gas_deployment/PersonaLevelDataBridge.gs:43`

```javascript
function getPersonaLevelData(prefecture) {
  const sheetName = 'PersonaLevel_' + prefecture;
  const sheet = ss.getSheetByName(sheetName);
  const values = sheet.getDataRange().getValues();  // 1å›ã®ã¿
  
  // ãƒšãƒ«ã‚½ãƒŠã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆé…åˆ—ã«å¤‰æ›
  const personas = dataRows.map(function(row) {
    const obj = {};
    headers.forEach(function(header, index) {
      obj[header] = row[index];
    });
    return obj;
  });
  
  return { prefecture, personas, metadata };
}
```

## ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£

### æ¨å¥¨ã•ã‚Œã‚‹æ”¹å–„

1. **ãƒ‘ã‚¹ãƒˆãƒ©ãƒãƒ¼ã‚µãƒ«å¯¾ç­–**: `generate_persona_level_sheets.py:250`
   - éƒ½é“åºœçœŒåã®ã‚µãƒ‹ã‚¿ã‚¤ã‚ºå‡¦ç†è¿½åŠ 

2. **å…¥åŠ›æ¤œè¨¼**: `PersonaLevelDataBridge.gs:43`
   - éƒ½é“åºœçœŒãƒ›ãƒ¯ã‚¤ãƒˆãƒªã‚¹ãƒˆæ¤œè¨¼

3. **ã‚¹ã‚­ãƒ¼ãƒæ¤œè¨¼**: ã™ã¹ã¦ã®Phase
   - å¿…é ˆã‚«ãƒ©ãƒ å­˜åœ¨ãƒã‚§ãƒƒã‚¯

è©³ç´°ã¯ `docs/PERSONA_LEVEL_INTEGRATION_GUIDE.md` ã‚’å‚ç…§ã€‚

## ãƒ©ã‚¤ã‚»ãƒ³ã‚¹

ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯MITãƒ©ã‚¤ã‚»ãƒ³ã‚¹ã®ä¸‹ã§å…¬é–‹ã•ã‚Œã¦ã„ã¾ã™ã€‚

## è²¢çŒ®

ãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’æ­“è¿ã—ã¾ã™ã€‚å¤§ããªå¤‰æ›´ã®å ´åˆã¯ã€ã¾ãšIssueã‚’é–‹ã„ã¦å¤‰æ›´å†…å®¹ã‚’è­°è«–ã—ã¦ãã ã•ã„ã€‚

## ä½œè€…

- **makimaki1006** - [GitHub](https://github.com/makimaki1006)

## è¬è¾

- Google Apps Scriptã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£
- pandasé–‹ç™ºãƒãƒ¼ãƒ 
- scikit-learné–‹ç™ºãƒãƒ¼ãƒ 

---

ğŸ¤– Generated with [Claude Code](https://claude.com/claude-code)
